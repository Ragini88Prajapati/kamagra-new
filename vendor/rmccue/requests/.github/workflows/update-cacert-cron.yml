name: Certificates Cronjob

on:
  # Run every day at 4:20.
  schedule:
    - cron: '20 4 * * *'

# Cancels all previous workflow runs for the same branch that have not yet completed.
concurrency:
  # The concurrency group contains the workflow name and the branch name.
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  certificate-check:
    # Don't run the cron job on forks.
    if: ${{ github.event.repository.fork == false }}

    uses: ./.github/workflows/reusable-update-cacert.yml
